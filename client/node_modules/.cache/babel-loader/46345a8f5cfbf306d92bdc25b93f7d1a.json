{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction runInWorker(self, fn) {\n  self.onmessage = function (event) {\n    var data = event.data;\n    var id = data.id,\n        payload = data.payload;\n    var response;\n    Promise.resolve(fn.apply(void 0, payload)).then(function (ret) {\n      self.postMessage({\n        id: id,\n        type: 'return',\n        payload: ret\n      });\n    }).catch(function (e) {\n      self.postMessage({\n        id: id,\n        type: 'error',\n        payload: e.message\n      });\n    });\n  };\n}\n\nexports.default = runInWorker;","map":{"version":3,"sources":["../../../../packages/vibrant-worker/src/worker.ts"],"names":[],"mappings":";;;;;;AAOA,SAAwB,WAAxB,CAAwC,IAAxC,EAAsD,EAAtD,EAA2F;AACzF,EAAA,IAAI,CAAC,SAAL,GAAiB,UAAC,KAAD,EAAM;AACrB,QAAI,IAAI,GAAkB,KAAK,CAAC,IAAhC;AAEM,QAAA,EAAE,GAAc,IAAI,CAAlB,EAAF;AAAA,QAAI,OAAO,GAAK,IAAI,CAAT,OAAX;AAEN,QAAI,QAAJ;AAEA,IAAA,OAAO,CAAC,OAAR,CAAgB,EAAE,CAAA,KAAF,CAAE,KAAA,CAAF,EAAM,OAAN,CAAhB,EACG,IADH,CACQ,UAAC,GAAD,EAAI;AACP,MAAA,IAAY,CAAC,WAAb,CAAyB;AACxB,QAAA,EAAE,EAAA,EADsB;AAExB,QAAA,IAAI,EAAE,QAFkB;AAGxB,QAAA,OAAO,EAAE;AAHe,OAAzB;AAKF,KAPH,EAQG,KARH,CAQS,UAAC,CAAD,EAAE;AACN,MAAA,IAAY,CAAC,WAAb,CAAyB;AACxB,QAAA,EAAE,EAAA,EADsB;AAExB,QAAA,IAAI,EAAE,OAFkB;AAGxB,QAAA,OAAO,EAAG,CAAW,CAAC;AAHE,OAAzB;AAKF,KAdH;AAeD,GAtBD;AAuBD;;AAxBD,OAAA,CAAA,OAAA,GAAA,WAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction runInWorker(self, fn) {\n    self.onmessage = function (event) {\n        var data = event.data;\n        var id = data.id, payload = data.payload;\n        var response;\n        Promise.resolve(fn.apply(void 0, payload))\n            .then(function (ret) {\n            self.postMessage({\n                id: id,\n                type: 'return',\n                payload: ret\n            });\n        })\n            .catch(function (e) {\n            self.postMessage({\n                id: id,\n                type: 'error',\n                payload: e.message\n            });\n        });\n    };\n}\nexports.default = runInWorker;\n//# sourceMappingURL=worker.js.map"]},"metadata":{},"sourceType":"script"}