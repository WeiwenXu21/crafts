{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _1 = __importDefault(require(\"./\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar Builder =\n/** @class */\nfunction () {\n  function Builder(src, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this._src = src;\n    this._opts = utils_1.assignDeep({}, _1.default.DefaultOpts, opts);\n  }\n\n  Builder.prototype.maxColorCount = function (n) {\n    this._opts.colorCount = n;\n    return this;\n  };\n\n  Builder.prototype.maxDimension = function (d) {\n    this._opts.maxDimension = d;\n    return this;\n  };\n\n  Builder.prototype.addFilter = function (name) {\n    if (!this._opts.filters) {\n      this._opts.filters = [name];\n    } else {\n      this._opts.filters.push(name);\n    }\n\n    return this;\n  };\n\n  Builder.prototype.removeFilter = function (name) {\n    if (this._opts.filters) {\n      var i = this._opts.filters.indexOf(name);\n\n      if (i > 0) this._opts.filters.splice(i);\n    }\n\n    return this;\n  };\n\n  Builder.prototype.clearFilters = function () {\n    this._opts.filters = [];\n    return this;\n  };\n\n  Builder.prototype.quality = function (q) {\n    this._opts.quality = q;\n    return this;\n  };\n\n  Builder.prototype.useImageClass = function (imageClass) {\n    this._opts.ImageClass = imageClass;\n    return this;\n  };\n\n  Builder.prototype.useGenerator = function (generator, options) {\n    if (!this._opts.generators) this._opts.generators = [];\n\n    this._opts.generators.push(options ? {\n      name: generator,\n      options: options\n    } : generator);\n\n    return this;\n  };\n\n  Builder.prototype.useQuantizer = function (quantizer, options) {\n    this._opts.quantizer = options ? {\n      name: quantizer,\n      options: options\n    } : quantizer;\n    return this;\n  };\n\n  Builder.prototype.build = function () {\n    return new _1.default(this._src, this._opts);\n  };\n\n  Builder.prototype.getPalette = function (cb) {\n    return this.build().getPalette(cb);\n  };\n\n  Builder.prototype.getSwatches = function (cb) {\n    return this.build().getPalette(cb);\n  };\n\n  return Builder;\n}();\n\nexports.default = Builder;","map":{"version":3,"sources":["../../../../packages/vibrant-core/src/builder.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = __importDefault(require(\"./\"));\nvar utils_1 = require(\"./utils\");\nvar Builder = /** @class */ (function () {\n    function Builder(src, opts) {\n        if (opts === void 0) { opts = {}; }\n        this._src = src;\n        this._opts = utils_1.assignDeep({}, _1.default.DefaultOpts, opts);\n    }\n    Builder.prototype.maxColorCount = function (n) {\n        this._opts.colorCount = n;\n        return this;\n    };\n    Builder.prototype.maxDimension = function (d) {\n        this._opts.maxDimension = d;\n        return this;\n    };\n    Builder.prototype.addFilter = function (name) {\n        if (!this._opts.filters) {\n            this._opts.filters = [name];\n        }\n        else {\n            this._opts.filters.push(name);\n        }\n        return this;\n    };\n    Builder.prototype.removeFilter = function (name) {\n        if (this._opts.filters) {\n            var i = this._opts.filters.indexOf(name);\n            if (i > 0)\n                this._opts.filters.splice(i);\n        }\n        return this;\n    };\n    Builder.prototype.clearFilters = function () {\n        this._opts.filters = [];\n        return this;\n    };\n    Builder.prototype.quality = function (q) {\n        this._opts.quality = q;\n        return this;\n    };\n    Builder.prototype.useImageClass = function (imageClass) {\n        this._opts.ImageClass = imageClass;\n        return this;\n    };\n    Builder.prototype.useGenerator = function (generator, options) {\n        if (!this._opts.generators)\n            this._opts.generators = [];\n        this._opts.generators.push(options ? { name: generator, options: options } : generator);\n        return this;\n    };\n    Builder.prototype.useQuantizer = function (quantizer, options) {\n        this._opts.quantizer = options ? { name: quantizer, options: options } : quantizer;\n        return this;\n    };\n    Builder.prototype.build = function () {\n        return new _1.default(this._src, this._opts);\n    };\n    Builder.prototype.getPalette = function (cb) {\n        return this.build().getPalette(cb);\n    };\n    Builder.prototype.getSwatches = function (cb) {\n        return this.build().getPalette(cb);\n    };\n    return Builder;\n}());\nexports.default = Builder;\n//# sourceMappingURL=builder.js.map"]},"metadata":{},"sourceType":"script"}